---
title: "Data"
author: "Rubén A. Rodríguez Barrón"
date: "4/26/2021"
output: pdf_document
---

```{r}
knitr::opts_chunk$set(echo = TRUE, error = FALSE, message = FALSE, warning = FALSE)
library(tidyverse)
library(readstata13)
```

# Data

This is the file where we will clean the data from **anes_timeseries_2016_Stata13.dta**. The raw data can be accessed [here](https://electionstudies.org/data-center/2016-time-series-study/).

The data frame *clean.rds* should be used in all working files of the project. 

```{r}
raw <- read.dta13("anes_timeseries_2016_Stata13.dta")
```

```{r}
clean <- subset(raw, select=c(ft_obama = V161092,
         ft_bill_clinton =	V161093,
         ft_democratic_party =	V161095,
         ft_republican_party =	V161096,
         ideology = V161126,
         party = V161158x,
         race = V161310x,
         gender = V161342,
         all_things_considered =	V161431,
         marketplace	=	V161432,
         the_glenn_beck_program	=	V161433,
         the_mark_levin_show	=	V161434,
         the_savage_nation	=	V161435,
         fresh_air =	V161436,
         the_hugh_hewitt_show	=	V161437,
         the_thom_hartmann_program	=	V161438,
         joe_madison	=	V161439,
         the_mike_gallagher_show	=	V161440,
         the_bill_handel_show	=	V161441,
         the_schnitt_show	=	V161442,
         no_radio	=	V161443,
         ft_clinton	=	V162078,
         ft_trump	=	V162079,
         ft_johnson	=	V162080,
         ft_stein	=	V162081,
         ft_kaine	=	V162091,
         ft_pence	=	V162092,
         ft_john_roberts =	V162093,
         ft_pope_francis =	V162094,
         ft_christian_fundamentalists = V162095,
         ft_feminists = V162096,
         ft_liberals = V162097,
         ft_labor_unions = V162098,
         ft_poor_people = V162099,
         ft_big_business = V162100,
         ft_conservatives = V162101,
         ft_supreme_court = V162102,
         ft_gay_lesbian = V162103,
         ft_congress = V162104,
         ft_rich_people = V162105,
         ft_muslims = V162106,
         ft_christians = V162107,
         ft_jews = V162108,
         ft_tea_party = V162109,
         ft_police= V162110,
         ft_transgender_people = V162111,
         ft_scientists = V162112,
         ft_blm = V162113
         ))
clean <- clean %>% rename(ft_obama = V161092,
         ft_bill_clinton =	V161093,
         ft_democratic_party =	V161095,
         ft_republican_party =	V161096,
         ideology = V161126,
         party = V161158x,
         race = V161310x,
         gender = V161342,
         all_things_considered =	V161431,
         marketplace	=	V161432,
         the_glenn_beck_program	=	V161433,
         the_mark_levin_show	=	V161434,
         the_savage_nation	=	V161435,
         fresh_air =	V161436,
         the_hugh_hewitt_show	=	V161437,
         the_thom_hartmann_program	=	V161438,
         joe_madison	=	V161439,
         the_mike_gallagher_show	=	V161440,
         the_bill_handel_show	=	V161441,
         the_schnitt_show	=	V161442,
         no_radio	=	V161443,
         ft_clinton	=	V162078,
         ft_trump	=	V162079,
         ft_johnson	=	V162080,
         ft_stein	=	V162081,
         ft_kaine	=	V162091,
         ft_pence	=	V162092,
         ft_john_roberts =	V162093,
         ft_pope_francis =	V162094,
         ft_christian_fundamentalists = V162095,
         ft_feminists = V162096,
         ft_liberals = V162097,
         ft_labor_unions = V162098,
         ft_poor_people = V162099,
         ft_big_business = V162100,
         ft_conservatives = V162101,
         ft_supreme_court = V162102,
         ft_gay_lesbian = V162103,
         ft_congress = V162104,
         ft_rich_people = V162105,
         ft_muslims = V162106,
         ft_christians = V162107,
         ft_jews = V162108,
         ft_tea_party = V162109,
         ft_police= V162110,
         ft_transgender_people = V162111,
         ft_scientists = V162112,
         'ft_blm' = V162113)
         
# Save a single object to a file
saveRDS(clean, "clean.rds")
```

